import RPi.GPIO as GPIO
from time import sleep

motor_pin = 12  # adjust this to your pin
GPIO.setmode(GPIO.BOARD)
GPIO.setup(motor_pin, GPIO.OUT)

motor_pwm = GPIO.PWM(motor_pin, 1000)
motor_pwm.start(0)

def motor_on(intensity = 50):
    while True:
        motor_pwm.ChangeDutyCycle(intensity)
        sleep(0.2)
        motor_pwm.ChangeDutyCycle(0)
        sleep(0.2)

def motor_off():
    motor_pwm.ChangeDutyCycle(0)

try:
    while True:
        user_input = input("1 to turn ON, 0 to turn OFF, q to quit: ").strip().lower()

        if user_input == '1':
            motor_on()
        elif user_input == '0':
            motor_off()
        elif user_input == 'q':
            break

finally:
    GPIO.cleanup()
